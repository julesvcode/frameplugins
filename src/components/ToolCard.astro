---
import { Image } from "astro:assets";
import Tag from "./Tag.astro";
import type { CollectionEntry } from "astro:content";

type Props = {
  plugins: CollectionEntry<"plugins">;
};

const { plugins } = Astro.props;
const { icon, title, description, categories, feat } = plugins.data;

const categoryDisplay = categories[0].replace(/-/g, " ");
---

<a
  href={`/plugins/${plugins.slug}`}
  class="relative flex flex-col gap-8 group overflow-hidden p-8 rounded-lg bg-white border border-zinc-200 w-full cursor-pointer hover:border-zinc-300 hover:bg-zinc-50"
>
  <!-- <div
    aria-hidden="true"
    class="inset-0 absolute aspect-video border rounded-full -translate-y-1/2 group-hover:-translate-y-1/4 duration-300 bg-gradient-to-b from-zinc-400 to-white blur-2xl opacity-25"
  >
  </div> -->
  <div class="flex gap-2 items-center justify-between">
    <div
      class="flex items-center justify-center border border-zinc-200 rounded-md w-12 h-12"
    >
      <Image src={icon} alt={`${title} icon`} class="rounded" />
    </div>
    <Tag category={categoryDisplay} />
    <!-- {
      feat && (
        <span class="text-blue-700 text-xs leading-0 bg-blue-200 rounded-sm w-fit h-fit py-1 px-2">
          Featured
        </span>
      )
    } -->
  </div>
  <div class="flex flex-col gap-0 w-full">
    <div class="flex items-center gap-2">
      <h3 class="text-zinc-950 font-bold leading-8">
        {title}
      </h3>
    </div>
    <p class="text-zinc-700 text-base leading-7 line-clamp-2">
      {description}
    </p>
  </div>
</a>
